<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIKE: KHUYẾN MÃI CHI TIẾT</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="../../stylesheets/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</head>

<body>
    <div class="container-fuil" style="margin: 0px 12px;">
        <div class="row" style="height: 55px;">
            <%- include('../partial/nav_bar') %>
        </div>
        <div class="row" id="content">
            <div id="side-bar" class="col-2 ps-4 pt-4" style="background-color: #f7f7f7;">
                <%- include('../partial/side_bar') %>
            </div>
            <div id="main-content" class="col-10 px-5 py-4">

                <div class="d-flex flex-row justify-content-between">
                    <div>
                        <p class="fs-4 fw-bolder m-0">Khuyến mãi</p>
                        <i class="fw-lighter fs-" id="offer-id" data-id="<%= id %>">#<%= id%></i>
                    </div>
                    <div class="align-self-center">
                        <button id="enable_editor" onclick="enableEditor(this)" data-enable="false"
                            class="btn btn-outline-success">Mở trình chỉnh sửa khuyến mãi</button>
                    </div>
                </div>


                <div id="update_offer_form" class="mt-3">
                    <div class="mb-3">
                        <label for="offer_title" class="form-label fw-bolder">Tiêu đề</label>
                        <input class="form-control" type="text" id="offer_title" required>
                    </div>
                    <div class="mb-3">
                        <label for="offer_description" class="form-label fw-bolder">Mô tả</label>
                        <textarea class="form-control" id="offer_description" rows="3" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="offer_discount" class="form-label fw-bolder">Lượng khuyến mãi</label>
                        <input class="form-control" id="offer_discount" type="number" min="1" required></input>
                    </div>
                    <div class="mb-3">
                        <label for="discount_unit" class="form-label fw-bolder">Đơn vị</label>
                        <select class="form-select" id="discount_unit" required>
                            <option value="0">%</option>
                            <option value="1">VNĐ</option>
                        </select>
                    </div>
                    <div class="mb-3 row">
                        <div class="col d-flex flex-column">
                            <label class="form-label fw-bolder" for="start-time">Thời gian bắt đầu khuyến mãi</label>
                            <input class="form-control" type="date" required id="start-time">
                        </div>
                        <div class="col d-flex flex-column">
                            <label class="form-label fw-bolder" for="end-time">Thời gian kết thúc khuyến mãi</label>
                            <input class="form-control" type="date" required id="end-time">
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="value_to_apply" class="form-label fw-bolder">Áp dụng khi giá trị đơn hàng lớn hơn
                            hoặc bằng (tính theo vnđ)</label>
                        <input class="form-control" id="value_to_apply" type="number" value="0" min="0"
                            required></input>
                    </div>

                    <div class="mb-3">
                        <div class="d-flex flex-row align-content-center">
                            <label for="max_value" class="form-label fw-bolder">Giảm tối đa (tính theo vnđ)</label>
                            <input class="ms-4 form-check-input" type="checkbox" id="unlimit_max_value" />
                            <label class="ms-2 form-label" style="font-size: 14px;align-self: center;"
                                for="unlimit_max_value">Không
                                giới hạn</label>
                        </div>
                        <input class="form-control" id="max_value" type="number" value="0" min="0" required></input>
                    </div>

                    <div class="mb-3">
                        <label for="btn_add_image" class="form-label fw-bolder" style="margin-bottom: 1px ">Chọn
                            ảnh</label>
                        <img id="offer-image" style="width: 300px; height: 180px;border: none; margin: 0; padding: 0;"
                            class="my-3 form-control" src="/images/placeholder.png">
                    </div>

                    <div class="mb-3">
                        <div class="d-flex flex-row align-content-center">
                            <label for="number_of_offer" class="form-label fw-bolder mb-1">Số lượng vé phát hành:
                            </label>
                            <input class="ms-4  form-check-input" type="checkbox" id="number_of_offer_unlimited" />
                            <label class="ms-2" style="font-size: 14px;align-self: center;"
                                for="number_of_offer_unlimited">Không
                                giới hạn</label>
                        </div>
                        <input class="form-control" id="number_of_offer" type="number" min="1"></input>
                    </div>

                    <div class="mb-3">
                        <p><span class="form-label fw-bolder">Số lượng vé khuyến mãi đã được sử dụng: </span> <span
                                id="number_of_used_offer"></span></p>
                    </div>

                    <div class="mb-3">
                        <label for="active" class="form-label fw-bolder">Trạng thái</label>
                        <select class="form-select" id="active" required>
                            <option value="true">Hoạt động</option>
                            <option value="false">Hết hoạt động</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <button id="save_offer" onclick="uploadOffer()" class="btn btn-outline-success d-none">Lưu
                            Khuyến
                            Mãi</button>
                    </div>
                </div>


                <form style="display: none;" action="/shoes_image/" method="post" enctype="multipart/form-data"
                    id="image_form">
                    <input type="file" name="shoes_images" id="image_input" />
                </form>

            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.2.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.8//firebase-storage.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCc-VYCEXHBgrvqcFtRl20ZSiu4bdMRZNA",
            authDomain: "nikeshoes-37058.firebaseapp.com",
            projectId: "nikeshoes-37058",
            storageBucket: "nikeshoes-37058.appspot.com",
            messagingSenderId: "4300128337",
            appId: "1:4300128337:web:c5f32d4aaf258096827870",
            measurementId: "G-F9E07RDGF3"
        };

        firebase.initializeApp(firebaseConfig);

    </script>

    <script src="../../javascripts/offer/image_picker.js"></script>
    <script src="../../javascripts/offer/number_of_offer.js"></script>
    <script src="../../javascripts/offer/load_offer_detail.js"></script>

</body>

</html>